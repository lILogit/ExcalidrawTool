# ===========================================
# AI Provider Configuration
# ===========================================

# AI Provider: 'anthropic' or 'ollama'
# Default: anthropic
VITE_AI_PROVIDER=anthropic

# ===========================================
# Anthropic (Claude) Configuration
# ===========================================

# Anthropic API Key for Claude AI integration
# Get your key at: https://console.anthropic.com/
VITE_ANTHROPIC_API_KEY=sk-ant-xxxxx

# Claude model to use
# Options:
#   claude-opus-4-5-20251101   — Claude Opus 4.5 (most capable)
#   claude-sonnet-4-5-20250929 — Claude Sonnet 4.5 (balanced)
#   claude-haiku-4-5-20251001  — Claude Haiku 4.5 (fastest)
VITE_ANTHROPIC_MODEL=claude-sonnet-4-20250514

# ===========================================
# Ollama Configuration (Local LLM)
# ===========================================

# Ollama API base URL (default: http://localhost:11434)
VITE_OLLAMA_BASE_URL=http://localhost:11434

# Ollama model to use
# Run 'ollama list' to see available models
# Popular options: llama3.2, mistral, codellama, phi3
VITE_OLLAMA_MODEL=llama3.2

# ===========================================
# Model Parameters (applies to all providers)
# ===========================================

# Maximum tokens in response (default: 4096)
VITE_AI_MAX_TOKENS=4096

# Temperature: Controls randomness (0.0-1.0)
# Lower = more focused, Higher = more creative
# Default: 0.7
VITE_AI_TEMPERATURE=0.7

# Top P: Nucleus sampling threshold (0.0-1.0)
# Default: 0.9
VITE_AI_TOP_P=0.9

# Top K: Limits vocabulary for each step (Ollama only)
# Default: 40
VITE_AI_TOP_K=40

# Repeat Penalty: Penalizes repetition (Ollama only)
# Default: 1.1
VITE_AI_REPEAT_PENALTY=1.1

# Seed: For reproducible outputs (optional, Ollama only)
# Uncomment to enable
# VITE_AI_SEED=42

# ===========================================
# Retry Configuration
# ===========================================

# Maximum retry attempts for AI requests when response is empty or invalid format
# Default: 3
VITE_AI_MAX_RETRIES=3

# Delay between retries in milliseconds
# Default: 1000 (1 second)
VITE_AI_RETRY_DELAY=1000

# ===========================================
# Debug & Logging Configuration
# ===========================================

# Enable AI service debug logging
# Shows detailed request/response info in console
VITE_AI_DEBUG=false

# Enable canvas and AI event logging
# Logs to localStorage and console for cognitive process learning
VITE_LOGGING_ENABLED=true

# Enable console output for logging service
VITE_LOG_TO_CONSOLE=false

# Maximum log entries to keep (default: 500)
VITE_MAX_LOG_ENTRIES=500

# ===========================================
# N8N Webhook Integration Configuration
# ===========================================

# N8N Webhook URL for sending selected canvas elements
# Example: https://your-n8n-instance.com/webhook/excalidraw
# Leave empty to disable N8N webhook feature
VITE_N8N_WEBHOOK_URL=http://localhost:5174/api/n8n/callback

# N8N Webhook authentication token (optional)
# If your N8N webhook requires authentication
# VITE_N8N_WEBHOOK_TOKEN=your-token-here

# Enable N8N webhook debug logging
VITE_N8N_DEBUG=false

# N8N Callback URL (auto-generated, for reference)
# The app listens for updates from N8N at this URL:
# http://localhost:5173/api/n8n/callback
#
# In N8N, use HTTP Request node to send updates back:
# Method: GET or POST
# URL: http://localhost:5173/api/n8n/callback
#
# IMPORTANT: If N8N cannot connect to localhost:5173:
#
# 1. If N8N is running in Docker:
#    Use: http://host.docker.internal:5173/api/n8n/callback
#    Or: http://172.17.0.1:5173/api/n8n/callback (default Docker bridge IP)
#
# 2. If N8N is on the same machine but still can't connect:
#    Check firewall settings
#    Try using 127.0.0.1 instead of localhost
#    Or use your machine's local IP address (e.g., 192.168.x.x)
#
# 3. To find your local IP:
#    - Linux/Mac: `ifconfig` or `ip addr show`
#    - Windows: `ipconfig`
#
# Body (JSON) for POST:
# {
#   "success": true,
#   "message": "Optional message",
#   "elements": [...],  // Excalidraw elements to add/update
#   "elementsToDelete": ["id1", "id2"]  // IDs to delete
# }
#
# Or use query parameters for GET:
# http://localhost:5173/api/n8n/callback?success=true&message=Updated&elements=[...]
#
# Optional: Override the callback URL (useful for remote N8N instances)
# If not set, the URL is auto-generated as: http://localhost:5173/api/n8n/callback
# Set this to your public URL or local IP for remote N8N access
# VITE_N8N_CALLBACK_URL=http://192.168.0.14:5173/api/n8n/callback
